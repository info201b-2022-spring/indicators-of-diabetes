highest_in_each_state <- (counties %>%
group_by(state) %>%
filter(cases == max(cases)))$location
highest_in_each_state
highest_in_each_state <- (counties %>%
group_by(state) %>%
filter(date == max(date)) %>%
filter(cases == max(cases)))$location
# What is the county with the *current* (e.g., on the most recent date)
# lowest number of deaths in each state? Your answer, stored in
# `lowest_in_each_state`, should be a *vector* of
# `location` names (the column with COUNTY, STATE).
lowest_in_each_state <- (counties %>%
group_by(state) %>%
filter(date == max(date)) %>%
filter(cases == min(cases)))$location
highest_in_each_state
lowest_in_each_state
length(lowest_in_each_state)
length(highest_in_each_state)
counties %>%
group_by(state) %>%
filter(date == max(date)) %>%
filter(cases == min(cases))
dim(counties %>%
group_by(state) %>%
filter(date == max(date)) %>%
filter(cases == min(cases)))
stuff <- counties %>%
group_by(state) %>%
filter(date == max(date)
)
stu <- stuff %>%
filter(cases == min(cases))
stu
source("~/College/Year 2/Quarter 3/INFO 201/a2-covid-trends-rraftery-1342715/analysis.R")
state_total
state_total[800]
state_total[,800]
state_total[800,]
state_total <- states %>%
group_by(date) %>%
summarise(state_total = n(cases))
state_total <- states %>%
group_by(date) %>%
mutate(state_total <- sum(cases))
state_total
state_total <- states %>%
group_by(date) %>%
summarise_at(vars(cases), list(state_total = sum)
state_total
state_total <- states %>%
group_by(date) %>%
summarise_at(vars(cases), list(state_total = sum))
state_total
state_total[800,]
county_by_day <- counties %>%
group_by(date) %>%
summarise_at(vars(cases), list(county_total = sum))
totals_by_day <- join(county_by_day, state_by_day)
totals_by_day <- left_join(county_by_day, state_by_day)
state_by_day <- states %>%
group_by(date) %>%
summarise_at(vars(cases), list(state_total = sum))
totals_by_day <- left_join(county_by_day, state_by_day)
totals_by_day
totals_by_day <- left_join(state_by_day, county_by_day)
all_totals <- left_join(national, totals_by_day)
all_totals
num_state_diff <- length(all_totals[all_totals$cases != all_totals$state_total])
all_totals$cases != all_totals$state_total
all_totals[all_totals$cases != all_totals$state_total]
all_totals
rlang::last_error()
rlang::last_trace()
length(all_totals$cases != all_totals$state_total)
length(all_totals)
num_state_diff <- length(all_totals[all_totals$cases != all_totals$state_total,])
num_state_diff
num_state_diff <- length(all_totals[,all_totals$cases != all_totals$state_total])
num_state_diff <- ncol(all_totals[all_totals$cases != all_totals$state_total,])
num_state_diff
num_state_diff <- nrow(all_totals[all_totals$cases != all_totals$state_total,])
num_state_diff
num_county_diff <- nrow(all_totals[all_totals$cases != all_totals$county_total,])
num_county_diff
source("~/College/Year 2/Quarter 3/INFO 201/a2-covid-trends-rraftery-1342715/analysis.R")
sum_county_to_state <- counties[c("state", "date", "cases")] %>%
group_by(date, state) %>%
summarise(list(county_totals = sum), .groups="drop")
sum_county_to_state
counties[c("state", "date", "cases")]
sum_county_to_state <- counties[c("state", "date", "cases")] %>%
group_by(date, state) %>%
summarise(county_totals = sum, .groups="drop")
sum_county_to_state <- counties[c("state", "date", "cases")] %>%
group_by(date, state) %>%
summarise(sum, .groups="drop")
sum_county_to_state <- counties[c("state", "date", "cases")] %>%
group_by(date, state) %>%
summarise(county_totals = sum(cases), .groups="drop")
sum_county_to_state
county_by_day1 <- counties %>%
group_by(date) %>%
summarise_at(vars(cases), list(county_total = sum))
county_by_day2 <- counties %>%
group_by(date) %>%
summarise(county_total = sum(cases))
county_by_day1
county_by_day2
county_by_day[,300]
county_by_day[300]
county_by_day[300,]
county_by_day1[300,]
county_by_day2[300,]
joined_states <- left_join(states, sum_county_to_state)
joined_states
has_discrepancy <- joined_states[joined_states$cases != joined_states$county_totals,]
has_discrepancy
has_discrepancy <- has_discrepancy %>%
mutute(abs_diff = abs(cases - county_totals))
state_highest_difference <- has_discrepancy[has_discrepancy$abs_diff ==
max(has_discrepancy$abs_diff),]
has_discrepancy <- has_discrepancy %>%
mutute(abs_diff = abs(cases - county_totals))
has_discrepancy <- has_discrepancy %>%
mutate(abs_diff = abs(cases - county_totals))
has_discrepancy
state_highest_difference <- has_discrepancy[has_discrepancy$abs_diff ==
max(has_discrepancy$abs_diff),]
state_highest_difference
state_highest_difference <- na.omit(has_discrepancy[has_discrepancy$abs_diff ==
max(has_discrepancy$abs_diff),])$state
state_highest_difference
state_highest_difference <- na.omit(has_discrepancy[has_discrepancy$abs_diff ==
max(has_discrepancy$abs_diff),])
state_highest_difference
state_highest_difference <- na.omit(has_discrepancy[has_discrepancy$abs_diff ==
max(has_discrepancy$abs_diff, na.rm=TRUE),])
state_highest_difference
state_highest_difference <- na.omit(has_discrepancy[has_discrepancy$abs_diff ==
max(has_discrepancy$abs_diff, na.rm=TRUE),])$state
state_highest_difference
View(has_discrepancy)
has_discrepancy <- na.omit(joined_states[joined_states$cases != joined_states$county_totals,])
View(has_discrepancy)
has_discrepancy <- na.omit(joined_states[joined_states$cases != joined_states$county_totals,])
has_discrepancy <- has_discrepancy %>%
mutate(abs_diff = abs(cases - county_totals))
state_highest_difference <- na.omit(has_discrepancy[has_discrepancy$abs_diff ==
max(has_discrepancy$abs_diff, na.rm=TRUE),])$state
avg_abs_diff <- summarise(has_discrepancy, median(abs_diff))
avg_abs_diff
avg_abs_diff <- summarise(has_discrepancy, mean(abs_diff))
avg_abs_diff
View(county_by_day)
View(joined_states)
View(state_by_day)
View(totals_by_day)
View(sum_county_to_state)
states_only_zero <- na.omit(states[states$cases == 0])
states_only_zero <- na.omit(states[states$cases == 0,])
View(states_only_zero)
states_only_zero
states_only_zero <- na.omit(states[states$deaths == 0,])
states_only_zero
states_zero_deaths <- na.omit(states[states$deaths == 0,])
last_deathless_state <- states_zero_deaths[states_zero_deaths$date == max(states_zero_deaths, na.rm=TRUE)]
last_deathless_state <- states_zero_deaths[states_zero_deaths$date == max(states_zero_deaths, na.rm=TRUE),]
last_deathless_state <- states_zero_deaths[states_zero_deaths$date == max(states_zero_deaths$date, na.rm=TRUE),]
View(last_deathless_state)
states_deaths <- na.omit(states[states$deaths > 0,])
View(states_deaths)
first_death_state <- states_deaths[states_deaths$date == min(states_deaths$date, na.rm=TRUE),]$state
first_death_state <- state_deaths[state_deaths$date == min(state_deaths$date, na.rm=TRUE),]$state
state_deaths <- na.omit(states[states$deaths > 0,])
first_death_state <- state_deaths[state_deaths$date == min(state_deaths$date, na.rm=TRUE),]$state
source("~/College/Year 2/Quarter 3/INFO 201/a2-covid-trends-rraftery-1342715/analysis.R")
shiny::runApp('College/Year 2/Quarter 3/INFO 201/lect 15 demo/lect15')
runApp('College/Year 2/Quarter 3/INFO 201/lect 15 demo/lect15')
runApp('College/Year 2/Quarter 3/INFO 201/lect 15 demo/lect15')
runApp('College/Year 2/Quarter 3/INFO 201/lect 15 demo/lect15')
runApp('College/Year 2/Quarter 3/INFO 201/lect 15 demo/lect15')
shiny::runApp('College/Year 2/Quarter 3/INFO 201/lect 16 demo')
runApp('College/Year 2/Quarter 3/INFO 201/lect 16 demo')
runApp('College/Year 2/Quarter 3/INFO 201/lect 16 demo')
runApp('College/Year 2/Quarter 3/INFO 201/lect 16 demo')
runApp('College/Year 2/Quarter 3/INFO 201/lect 16 demo')
runApp('College/Year 2/Quarter 3/INFO 201/lect 16 demo')
runApp('College/Year 2/Quarter 3/INFO 201/lect 16 demo')
data <- read.csv("https://raw.githubusercontent.com/info201b-2022-spring/final-projects-daniellatsing/main/data/diabetes_012_health_indicators_BRFSS2015.csv?token=GHSAT0AAAAAABTVF2SIN63RHKKZBLMV5TZWYUG7SBQ")
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart1.R")
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart1.R")
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart1.R")
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart1.R")
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart1.R")
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart1.R")
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart1.R")
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart1.R")
getwd()
setwd("C:/Users/rober/Documents/College/Year\ 2/Quarter\ 3/INFO\ 201/final-projects-daniellatsing")
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart1.R")
View(data)
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart1.R")
View(grouped)
print(grouped)
table(grouped)
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart1.R")
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart1.R")
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart1.R")
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart1.R")
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart1.R")
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart1.R")
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart1.R")
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart1.R")
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart1.R")
View(table_income)
View(table(grouped))
size(grouped)
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart1.R")
stuff <- income_only %>% summarise(Income, n())
View(stuff)
hi <- as.data.frame(table_income)
View(hi)
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart1.R")
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart1.R")
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart1.R")
data <- read.csv("data/data.csv", header = TRUE)
data <- read.csv("/data/data.csv", header = TRUE)
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart1.R")
data <- read.csv("./data/diabetes_012_health_indicators_BRFSS2015.csv", header = TRUE)
data <- read.csv("data/diabetes_012_health_indicators_BRFSS2015.csv", header = TRUE)
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart1.R")
source("~/College/Year 2/Quarter 3/INFO 201/a3-data-visualization-rraftery-1342715/analysis.R")
source("~/College/Year 2/Quarter 3/INFO 201/a3-data-visualization-rraftery-1342715/analysis.R")
View(data)
ratio <- data %>% mutate(white_ratio = white_jail_pop / white_pop_15to64,
black_ratio = black_jail_pop / black_pop_15to64,
aapi_ratio = aapi_jail_pop / aapi_pop_15to64,
latinx_ratio = latinx_jail_pop / latinx_pop_15to64,
native_ratio = native_jail_pop / native_pop_15to64)
View(ratio)
View(ratio[c("white_ratio", "black_ratio", "latinx_ratio", "aapi_ratio")])
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart2.R")
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart2.R")
View(grouped)
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart1.R")
View(grouped)
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart3.R")
View(bmi_avg)
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart3.R")
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart3.R")
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart1.R")
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart3.R")
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart3.R")
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart3.R")
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart3.R")
source("~/College/Year 2/Quarter 3/INFO 201/a3-data-visualization-rraftery-1342715/analysis.R")
print(unique(data$state))
grouped <- data %>%
group_by(year) %>%
summarise(yearly_pop = sum(total_pop_15to64),
white_yearly_pop = sum(white_pop_15to64),
black_yearly_pop = sum(black_pop_15to64),
aapi_yearly_pop = sum(aapi_pop_15to64),
latinx_yearly_pop = sum(latinx_pop_15to64),
native_yearly_pop = sum(native_pop_15to64)
)
View(grouped)
grouped <- data %>%
group_by(year) %>%
summarise(yearly_pop = sum(total_pop_15to64),
white_yearly_pop = sum(white_pop_15to64),
black_yearly_pop = sum(black_pop_15to64),
aapi_yearly_pop = sum(aapi_pop_15to64),
latinx_yearly_pop = sum(latinx_pop_15to64),
native_yearly_pop = sum(native_pop_15to64),
white_yearly_jail = sum(white_jail_pop),
black_yearly_jail = sum(black_jail_pop),
aapi_yearly_jail = sum(aapi_jail_pop),
latinx_yearly_jail = sum(latinx_jail_pop),
native_yearly_jail = sum(native_jail_pop))
grouped_ratio <- grouped %>%
mutate(white_ratio = white_yearly_jail / white_yearly_pop,
black_ratio = black_yearly_jail / black_yearly_pop,
aapi_ratio = aapi_yearly_jail / aapi_yearly_pop,
latinx_ratio = latinx_yearly_jail / latinx_yearly_pop,
native_ratio = native_yearly_jail / native_yearly_pop)
View(grouped_ratio)
grouped <- data %>%
group_by(year) %>%
summarise(yearly_pop = sum(total_pop_15to64),
white_yearly_pop = sum(white_pop_15to64),
black_yearly_pop = sum(black_pop_15to64),
aapi_yearly_pop = sum(aapi_pop_15to64),
latinx_yearly_pop = sum(latinx_pop_15to64),
native_yearly_pop = sum(native_pop_15to64),
white_yearly_jail = sum(white_jail_pop),
black_yearly_jail = sum(black_jail_pop),
aapi_yearly_jail = sum(aapi_jail_pop),
latinx_yearly_jail = sum(latinx_jail_pop),
native_yearly_jail = sum(native_jail_pop), na.rm = TRUE)
View(grouped)
grouped <- data %>%
group_by(year) %>%
summarise(yearly_pop = sum(total_pop_15to64),
white_yearly_pop = sum(white_pop_15to64, na.rm = TRUE),
black_yearly_pop = sum(black_pop_15to64, na.rm = TRUE),
aapi_yearly_pop = sum(aapi_pop_15to64, na.rm = TRUE),
latinx_yearly_pop = sum(latinx_pop_15to64, na.rm = TRUE),
native_yearly_pop = sum(native_pop_15to64, na.rm = TRUE),
white_yearly_jail = sum(white_jail_pop, na.rm = TRUE),
black_yearly_jail = sum(black_jail_pop, na.rm = TRUE),
aapi_yearly_jail = sum(aapi_jail_pop, na.rm = TRUE),
latinx_yearly_jail = sum(latinx_jail_pop, na.rm = TRUE),
native_yearly_jail = sum(native_jail_pop, na.rm = TRUE))
View(grouped)
grouped <- data %>%
group_by(year) %>%
summarise(yearly_pop = sum(total_pop_15to64),
white_yearly_pop = sum(white_pop_15to64, na.rm = TRUE),
black_yearly_pop = sum(black_pop_15to64, na.rm = TRUE),
aapi_yearly_pop = sum(aapi_pop_15to64, na.rm = TRUE),
latinx_yearly_pop = sum(latinx_pop_15to64, na.rm = TRUE),
native_yearly_pop = sum(native_pop_15to64, na.rm = TRUE),
white_yearly_jail = sum(white_jail_pop, na.rm = TRUE),
black_yearly_jail = sum(black_jail_pop, na.rm = TRUE),
aapi_yearly_jail = sum(aapi_jail_pop, na.rm = TRUE),
latinx_yearly_jail = sum(latinx_jail_pop, na.rm = TRUE),
native_yearly_jail = sum(native_jail_pop, na.rm = TRUE))
grouped_ratio <- grouped %>%
mutate(white_ratio = white_yearly_jail / white_yearly_pop,
black_ratio = black_yearly_jail / black_yearly_pop,
aapi_ratio = aapi_yearly_jail / aapi_yearly_pop,
latinx_ratio = latinx_yearly_jail / latinx_yearly_pop,
native_ratio = native_yearly_jail / native_yearly_pop)
time_plot <- grouped_ratio[c("year", "white_ratio", "black_ratio", "aapi_ratio", "latinx_ratio", "native_ratio")] %>%
ggplot( aes(x=year)) +
geom_line()
print(time_plot)
time_plot <- grouped_ratio[c("year", "white_ratio", "black_ratio", "aapi_ratio", "latinx_ratio", "native_ratio")] %>%
ggplot( aes(x=year)) +
geom_line(aes(y=white_ratio, color="white_ratio")) +
geom_line(aes(y=black_ratio, color="black_ratio")) +
geom_line(aes(y=aapi_ratio, color="aapi_ratio")) +
geom_line(aes(y=latinx_ratio, color="latinx_ratio")) +
geom_line(aes(y=native_ratio, color="native_ratio"))
print(time_plot)
time_df <- grouped_ratio[c("year", "white_ratio", "black_ratio", "aapi_ratio", "latinx_ratio", "native_ratio")]
time_df <- time_df[time_df$year >= 1990]
time_df <- time_df[time_df$year >= 1990,]
time_plot <- time_df %>%
ggplot( aes(x=year)) +
geom_line(aes(y=white_ratio, color="white_ratio")) +
geom_line(aes(y=black_ratio, color="black_ratio")) +
geom_line(aes(y=aapi_ratio, color="aapi_ratio")) +
geom_line(aes(y=latinx_ratio, color="latinx_ratio")) +
geom_line(aes(y=native_ratio, color="native_ratio"))
print(time_plot)
library(ggplot2)
map_data("county")
grouped_state <- data %>%
mutate(black_ratio = black_jail_pop / black_pop_15to64) %>%
filter(year == 2018) %>%
select(state, black_jail_pop, black_pop_15to64) %>%
group_by(state) %>%
summarise(black_jail_sum = sum(black_jail_pop, na.rm = TRUE),
black_all_sum = sum(black_pop_15to64, na.rm = TRUE)) %>%
mutate(black_ratio = black_jail_sum / black_all_sum)
View(grouped_state)
grouped_state <- data %>%
#mutate(black_ratio = black_jail_pop / black_pop_15to64) %>%
filter(year == 2018) %>%
select(state, black_jail_pop, black_pop_15to64) %>%
group_by(state) %>%
summarise(black_jail_sum = sum(black_jail_pop, na.rm = TRUE),
black_all_sum = sum(black_pop_15to64, na.rm = TRUE)) %>%
mutate(black_ratio = black_jail_sum / black_all_sum)
View(grouped_state)
View(map_data("state"))
map_data("county")
grouped_state <- data %>%
#mutate(black_ratio = black_jail_pop / black_pop_15to64) %>%
filter(year == 2018) %>%
select(state, black_jail_pop, black_pop_15to64) %>%
group_by(state) %>%
rename(state_ab = state) %>%
summarise(black_jail_sum = sum(black_jail_pop, na.rm = TRUE),
black_all_sum = sum(black_pop_15to64, na.rm = TRUE)) %>%
mutate(black_ratio = black_jail_sum / black_all_sum,
state = tolower(state.name[match(x,state.abb)]))
grouped_state <- data %>%
#mutate(black_ratio = black_jail_pop / black_pop_15to64) %>%
filter(year == 2018) %>%
select(state, black_jail_pop, black_pop_15to64) %>%
group_by(state) %>%
rename(state_ab = state) %>%
summarise(black_jail_sum = sum(black_jail_pop, na.rm = TRUE),
black_all_sum = sum(black_pop_15to64, na.rm = TRUE)) %>%
mutate(black_ratio = black_jail_sum / black_all_sum,
state = tolower(state.name[match(state_ab,state.abb)]))
View(grouped_state)
state_shape <- map_data("state") %>% # load state shapefile
rename(state = region) %>% # rename for joining
left_join(grouped_state, by="state") # join eviction data
View(state_shape)
state_plot <- ggplot(state_shape) +
geom_polygon(
mapping = aes(x = long, y = lat, group = group, fill = black_ratio),
color = "white", # show state outlines
size = .1        # thinly stroked
) +
coord_map() + # use a map-based coordinate system
scale_fill_continuous(low = "#132B43", high = "Red") +
labs(fill = "Eviction Rate") #+
#blank_theme # variable containing map styles (defined in next code snippet)
print(state_plot)
grouped_state <- data %>%
#mutate(black_ratio = black_jail_pop / black_pop_15to64) %>%
filter(year == 2018) %>%
select(state, black_jail_pop, black_prison_pop, black_pop_15to64) %>%
group_by(state) %>%
rename(state_ab = state) %>%
summarise(black_jail_sum = sum(black_jail_pop, na.rm = TRUE),
black_prison_sum = sum(black_prison_sum, na.rm = TRUE),
black_all_sum = sum(black_pop_15to64, na.rm = TRUE)) %>%
mutate(black_ratio = (black_jail_sum + black_prison_sum) / black_all_sum,
state = tolower(state.name[match(state_ab,state.abb)]))
grouped_state <- data %>%
#mutate(black_ratio = black_jail_pop / black_pop_15to64) %>%
filter(year == 2018) %>%
select(state, black_jail_pop, black_prison_pop, black_pop_15to64) %>%
group_by(state) %>%
rename(state_ab = state) %>%
summarise(black_jail_sum = sum(black_jail_pop, na.rm = TRUE),
black_prison_sum = sum(black_prison_pop, na.rm = TRUE),
black_all_sum = sum(black_pop_15to64, na.rm = TRUE)) %>%
mutate(black_ratio = (black_jail_sum + black_prison_sum) / black_all_sum,
state = tolower(state.name[match(state_ab,state.abb)]))
state_shape <- map_data("state") %>% # load state shapefile
rename(state = region) %>% # rename for joining
left_join(grouped_state, by="state") # join eviction data
state_plot <- ggplot(state_shape) +
geom_polygon(
mapping = aes(x = long, y = lat, group = group, fill = black_ratio),
color = "white", # show state outlines
size = .1        # thinly stroked
) +
coord_map() + # use a map-based coordinate system
scale_fill_continuous(low = "#132B43", high = "Red") +
labs(fill = "Eviction Rate") #+
print(state_plot)
scatter <- ggplot(data[data$year == 2018], aes(x=total_jail_pretrial, y=total_jail_pop)) +
geom_point()
scatter <- ggplot(data[data$year == 2018,], aes(x=total_jail_pretrial, y=total_jail_pop)) +
geom_point()
print(scatter)
scatter <- ggplot(data[data$year == 2018,], aes(x=total_jail_pretrial, y=total_jail_pretrial_rate)) +
geom_point()
print(scatter)
scatter <- ggplot(data[data$year == 2018,], aes(x=total_jail_pretrial, y=total_jail_pop)) +
geom_point()
scatter <- ggplot(data[data$year == 2018,], aes(x=total_jail_pop, y=land_area/total_pop)) +
geom_point()
print(scatter)
scatter <- ggplot(data[data$year == 2018,], aes(x=total_jail_pop, y=total_pop/land_area)) +
geom_point()
print(scatter)
scatter_data <- data %>%
filter(year == 2018) %>%
mutate(pop_land_ratio = total_pop/land_area) %>%
filter(pop_land_ratio < 100000)
scatter_plot <- ggplot(scatter_data, aes(x=total_jail_pop, y=pop_land_ratio)) +
geom_point()
print(scatter_plot)
plot3 <- ggplot(bmi_avg, aes(x=Diabetes_012, y=avg)) +
geom_bar(stat = "identity")
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart3.R")
source("~/College/Year 2/Quarter 3/INFO 201/final-projects-daniellatsing/chart3.R")
source("~/College/Year 2/Quarter 3/INFO 201/a3-data-visualization-rraftery-1342715/analysis.R")
source("~/College/Year 2/Quarter 3/INFO 201/a3-data-visualization-rraftery-1342715/analysis.R")
source("~/College/Year 2/Quarter 3/INFO 201/a3-data-visualization-rraftery-1342715/analysis.R")
source("~/College/Year 2/Quarter 3/INFO 201/a3-data-visualization-rraftery-1342715/analysis.R")
ratio <- na.omit(data %>%
mutate(white_ratio = white_jail_pop / white_pop_15to64,
black_ratio = black_jail_pop / black_pop_15to64,
aapi_ratio = aapi_jail_pop / aapi_pop_15to64,
latinx_ratio = latinx_jail_pop / latinx_pop_15to64,
native_ratio = native_jail_pop / native_pop_15to64))
#Trends over time chart
grouped <- data %>%
group_by(year) %>%
summarise(yearly_pop = sum(total_pop_15to64),
white_yearly_pop = sum(white_pop_15to64, na.rm = TRUE),
black_yearly_pop = sum(black_pop_15to64, na.rm = TRUE),
aapi_yearly_pop = sum(aapi_pop_15to64, na.rm = TRUE),
latinx_yearly_pop = sum(latinx_pop_15to64, na.rm = TRUE),
native_yearly_pop = sum(native_pop_15to64, na.rm = TRUE),
white_yearly_jail = sum(white_jail_pop, na.rm = TRUE),
black_yearly_jail = sum(black_jail_pop, na.rm = TRUE),
aapi_yearly_jail = sum(aapi_jail_pop, na.rm = TRUE),
latinx_yearly_jail = sum(latinx_jail_pop, na.rm = TRUE),
native_yearly_jail = sum(native_jail_pop, na.rm = TRUE))
grouped_ratio <- grouped %>%
mutate(white_ratio = white_yearly_jail / white_yearly_pop,
black_ratio = black_yearly_jail / black_yearly_pop,
aapi_ratio = aapi_yearly_jail / aapi_yearly_pop,
latinx_ratio = latinx_yearly_jail / latinx_yearly_pop,
native_ratio = native_yearly_jail / native_yearly_pop)
print(ratio)
print(grouped)
print(grouped_ratio)
